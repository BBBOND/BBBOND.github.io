{"title":"朋友，树莓派玩过没？","slug":"play-pi","date":"2019-12-19T16:44:00.000Z","updated":"2020-02-18T02:29:35.619Z","comments":true,"path":"api/articles/play-pi.json","excerpt":"朋友那借了一个树莓派，整理下玩机的注意点。","covers":["/img/pi-fans.png","/img/AcFun/5.gif","/img/AcFun/8.gif"],"content":"<p>朋友那借了一个树莓派，整理下玩机的注意点。</p>\n<a id=\"more\"></a>\n<h2 id=\"1-装机\"><a class=\"header-anchor\" href=\"#1-装机\"></a>1. 装机</h2>\n<h3 id=\"1-1-风扇的安装\"><a class=\"header-anchor\" href=\"#1-1-风扇的安装\"></a>1.1 风扇的安装</h3>\n<p><strong>一定要注意正确安装引脚，不然可能会造成不可预知的后果（至少是无法正常启动）</strong><br>\n而我则更惨，间接报废了一张TF卡（可能是这个原因造成的）<br>\n为了更好地展示安装位置，我在下图标注了出来。<br>\n一定要注意要接4号和6号针脚！！！<br>\n<img src=\"/img/pi-fans.png\" alt=\"upload successful\"></p>\n<blockquote>\n<blockquote>\n<p>这里附上树莓派4的<a href=\"http://shumeipai.nxez.com/wp-content/uploads/2018/09/rpi_SCH_4b_4p0_reduced.pdf\" target=\"_blank\" rel=\"noopener\">官方原理图</a><br>\n其他的树莓派<a href=\"http://shumeipai.nxez.com/raspberry-pi-schematics\" target=\"_blank\" rel=\"noopener\">点这里</a></p>\n</blockquote>\n</blockquote>\n<h2 id=\"2-做系统\"><a class=\"header-anchor\" href=\"#2-做系统\"></a>2. 做系统</h2>\n<h3 id=\"2-1-下载系统镜像\"><a class=\"header-anchor\" href=\"#2-1-下载系统镜像\"></a>2.1 下载系统镜像</h3>\n<ul>\n<li><a href=\"https://www.raspberrypi.org/downloads/\" target=\"_blank\" rel=\"noopener\">官方下载页</a></li>\n<li><a href=\"http://shumeipai.nxez.com/download#os\" target=\"_blank\" rel=\"noopener\">国内下载地址(非广告，随手找的而已)</a></li>\n</ul>\n<p>树莓派官方支持的操作系统叫“Raspbian”，给予Debian。除此之外树莓派还支持了很多三方的操作系统，大家可以按需下载。<br>\n下载后记得解压，毕竟 <code>.zip</code> 不是镜像的后缀嘛（我觉得一定有人不知道）。<br>\n<img src=\"/img/AcFun/5.gif\" alt></p>\n<h3 id=\"2-2-将系统镜像写入系统盘-tf卡\"><a class=\"header-anchor\" href=\"#2-2-将系统镜像写入系统盘-tf卡\"></a>2.2 将系统镜像写入系统盘（TF卡）</h3>\n<ul>\n<li><a href=\"https://www.balena.io/etcher/\" target=\"_blank\" rel=\"noopener\">写入工具 balenaEtcher 下载</a></li>\n</ul>\n<p>如写入就不用说了吧，这工具很小白。</p>\n<p>如果你不想装软件，顺便装装X，那么来 <s>左边跟我一起画个龙，在你右边 画一道彩虹，走起</s>，打开你的终端。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 卸载磁盘</span></span><br><span class=\"line\">sudo diskutil umount /dev/disk2</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 写入镜像</span></span><br><span class=\"line\">sudo dd bs=1m if=./2019-09-26-raspbian-buster-full.img of=/dev/rdisk2</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-开机配置\"><a class=\"header-anchor\" href=\"#3-开机配置\"></a>3. 开机配置</h2>\n<h3 id=\"3-1-与你的派保持一种隐秘的连接-误\"><a class=\"header-anchor\" href=\"#3-1-与你的派保持一种隐秘的连接-误\"></a>3.1 与你的派保持一种隐秘的连接（误）</h3>\n<p>如果你有鼠标、键盘、显示器，那么你直接走正常流程就好了。我就没有你那么富有，一个没有，甚至没有网线，只有一台笔记本。如果你也和我一样，那么fallow me。</p>\n<ol>\n<li>创建 <code>boot/ssh</code>空文件就行，这一步允许你之后通过ssh连接</li>\n<li>创建 <code>boot/wpa_supplicant.conf</code>，这一步允许你的派在开机后自动连接WiFi，内容如下：</li>\n</ol>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class=\"line\">update_config=1</span><br><span class=\"line\">ap_scan=1</span><br><span class=\"line\">fast_reauth=1</span><br><span class=\"line\">country=CN</span><br><span class=\"line\">network=&#123;</span><br><span class=\"line\">    ssid=\"你的WiFi名\"</span><br><span class=\"line\">    psk=\"你的WiFi密码\"</span><br><span class=\"line\">    key_mgmt=WPA-PSK</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>保存退出磁盘</li>\n</ol>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 退出磁盘</span></span><br><span class=\"line\">diskutil eject /dev/disk2</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 诶诶诶，是不是发现退出失败了，哈哈哈，来来来，先退出目录</span></span><br><span class=\"line\">cd ~</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-2-插卡-开机\"><a class=\"header-anchor\" href=\"#3-2-插卡-开机\"></a>3.2 插卡、开机</h3>\n<ol>\n<li>ssh登录</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 默认用户名是 pi</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 默认密码是 raspberry</span></span><br><span class=\"line\"></span><br><span class=\"line\">ssh pi@ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 记得改密码啊喂~</span></span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>开启vnc</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 树莓派的设置工具，有空自己研究下</span></span><br><span class=\"line\">sudo raspi-config</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 选择 5 Interfacing Options</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 选择 P3 VNC</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 选择 Yes</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> esc 退出</span></span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>配置显示设置</li>\n</ol>\n<p>替换/boot/config.txt，内容如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hdmi_force_hotplug=1</span><br><span class=\"line\">hdmi_ignore_edid=0xa5000080</span><br><span class=\"line\">hdmi_group=2</span><br><span class=\"line\">hdmi_mode=16</span><br></pre></td></tr></table></figure>\n<p>保持良好的习惯，修改前先备份！</p>\n<ol start=\"4\">\n<li>使用vnc连接</li>\n</ol>\n<p><a href=\"https://www.realvnc.com/en/connect/download/viewer/\" target=\"_blank\" rel=\"noopener\">连接软件不用多考虑了吧，VNC Viewer 走起</a></p>\n<h3 id=\"4-接下来你使劲地耍吧\"><a class=\"header-anchor\" href=\"#4-接下来你使劲地耍吧\"></a>4 接下来你使劲地耍吧</h3>\n<p>docker、smb、node、Python、Aria、rpio玩起来!<br>\n预知后事如何，我有空再说。逃~<br>\n<img src=\"/img/AcFun/8.gif\" alt></p>\n","more":"<h2 id=\"1-装机\"><a class=\"header-anchor\" href=\"#1-装机\"></a>1. 装机</h2>\n<h3 id=\"1-1-风扇的安装\"><a class=\"header-anchor\" href=\"#1-1-风扇的安装\"></a>1.1 风扇的安装</h3>\n<p><strong>一定要注意正确安装引脚，不然可能会造成不可预知的后果（至少是无法正常启动）</strong><br>\n而我则更惨，间接报废了一张TF卡（可能是这个原因造成的）<br>\n为了更好地展示安装位置，我在下图标注了出来。<br>\n一定要注意要接4号和6号针脚！！！<br>\n<img src=\"/img/pi-fans.png\" alt=\"upload successful\"></p>\n<blockquote>\n<blockquote>\n<p>这里附上树莓派4的<a href=\"http://shumeipai.nxez.com/wp-content/uploads/2018/09/rpi_SCH_4b_4p0_reduced.pdf\" target=\"_blank\" rel=\"noopener\">官方原理图</a><br>\n其他的树莓派<a href=\"http://shumeipai.nxez.com/raspberry-pi-schematics\" target=\"_blank\" rel=\"noopener\">点这里</a></p>\n</blockquote>\n</blockquote>\n<h2 id=\"2-做系统\"><a class=\"header-anchor\" href=\"#2-做系统\"></a>2. 做系统</h2>\n<h3 id=\"2-1-下载系统镜像\"><a class=\"header-anchor\" href=\"#2-1-下载系统镜像\"></a>2.1 下载系统镜像</h3>\n<ul>\n<li><a href=\"https://www.raspberrypi.org/downloads/\" target=\"_blank\" rel=\"noopener\">官方下载页</a></li>\n<li><a href=\"http://shumeipai.nxez.com/download#os\" target=\"_blank\" rel=\"noopener\">国内下载地址(非广告，随手找的而已)</a></li>\n</ul>\n<p>树莓派官方支持的操作系统叫“Raspbian”，给予Debian。除此之外树莓派还支持了很多三方的操作系统，大家可以按需下载。<br>\n下载后记得解压，毕竟 <code>.zip</code> 不是镜像的后缀嘛（我觉得一定有人不知道）。<br>\n<img src=\"/img/AcFun/5.gif\" alt></p>\n<h3 id=\"2-2-将系统镜像写入系统盘-tf卡\"><a class=\"header-anchor\" href=\"#2-2-将系统镜像写入系统盘-tf卡\"></a>2.2 将系统镜像写入系统盘（TF卡）</h3>\n<ul>\n<li><a href=\"https://www.balena.io/etcher/\" target=\"_blank\" rel=\"noopener\">写入工具 balenaEtcher 下载</a></li>\n</ul>\n<p>如写入就不用说了吧，这工具很小白。</p>\n<p>如果你不想装软件，顺便装装X，那么来 <s>左边跟我一起画个龙，在你右边 画一道彩虹，走起</s>，打开你的终端。</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 卸载磁盘</span></span><br><span class=\"line\">sudo diskutil umount /dev/disk2</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 写入镜像</span></span><br><span class=\"line\">sudo dd bs=1m if=./2019-09-26-raspbian-buster-full.img of=/dev/rdisk2</span><br></pre></td></tr></table></figure>\n<h2 id=\"3-开机配置\"><a class=\"header-anchor\" href=\"#3-开机配置\"></a>3. 开机配置</h2>\n<h3 id=\"3-1-与你的派保持一种隐秘的连接-误\"><a class=\"header-anchor\" href=\"#3-1-与你的派保持一种隐秘的连接-误\"></a>3.1 与你的派保持一种隐秘的连接（误）</h3>\n<p>如果你有鼠标、键盘、显示器，那么你直接走正常流程就好了。我就没有你那么富有，一个没有，甚至没有网线，只有一台笔记本。如果你也和我一样，那么fallow me。</p>\n<ol>\n<li>创建 <code>boot/ssh</code>空文件就行，这一步允许你之后通过ssh连接</li>\n<li>创建 <code>boot/wpa_supplicant.conf</code>，这一步允许你的派在开机后自动连接WiFi，内容如下：</li>\n</ol>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctrl_interface=DIR=/var/run/wpa_supplicant GROUP=netdev</span><br><span class=\"line\">update_config=1</span><br><span class=\"line\">ap_scan=1</span><br><span class=\"line\">fast_reauth=1</span><br><span class=\"line\">country=CN</span><br><span class=\"line\">network=&#123;</span><br><span class=\"line\">    ssid=\"你的WiFi名\"</span><br><span class=\"line\">    psk=\"你的WiFi密码\"</span><br><span class=\"line\">    key_mgmt=WPA-PSK</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>保存退出磁盘</li>\n</ol>\n  <figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 退出磁盘</span></span><br><span class=\"line\">diskutil eject /dev/disk2</span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 诶诶诶，是不是发现退出失败了，哈哈哈，来来来，先退出目录</span></span><br><span class=\"line\">cd ~</span><br></pre></td></tr></table></figure>\n<h3 id=\"3-2-插卡-开机\"><a class=\"header-anchor\" href=\"#3-2-插卡-开机\"></a>3.2 插卡、开机</h3>\n<ol>\n<li>ssh登录</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 默认用户名是 pi</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 默认密码是 raspberry</span></span><br><span class=\"line\"></span><br><span class=\"line\">ssh pi@ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 记得改密码啊喂~</span></span><br></pre></td></tr></table></figure>\n<ol start=\"2\">\n<li>开启vnc</li>\n</ol>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 树莓派的设置工具，有空自己研究下</span></span><br><span class=\"line\">sudo raspi-config</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 选择 5 Interfacing Options</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 选择 P3 VNC</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> 选择 Yes</span></span><br><span class=\"line\"><span class=\"meta\">#</span><span class=\"bash\"> esc 退出</span></span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li>配置显示设置</li>\n</ol>\n<p>替换/boot/config.txt，内容如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hdmi_force_hotplug=1</span><br><span class=\"line\">hdmi_ignore_edid=0xa5000080</span><br><span class=\"line\">hdmi_group=2</span><br><span class=\"line\">hdmi_mode=16</span><br></pre></td></tr></table></figure>\n<p>保持良好的习惯，修改前先备份！</p>\n<ol start=\"4\">\n<li>使用vnc连接</li>\n</ol>\n<p><a href=\"https://www.realvnc.com/en/connect/download/viewer/\" target=\"_blank\" rel=\"noopener\">连接软件不用多考虑了吧，VNC Viewer 走起</a></p>\n<h3 id=\"4-接下来你使劲地耍吧\"><a class=\"header-anchor\" href=\"#4-接下来你使劲地耍吧\"></a>4 接下来你使劲地耍吧</h3>\n<p>docker、smb、node、Python、Aria、rpio玩起来!<br>\n预知后事如何，我有空再说。逃~<br>\n<img src=\"/img/AcFun/8.gif\" alt></p>","categories":[],"tags":[{"name":"玩机","path":"api/tags/玩机.json"}]}